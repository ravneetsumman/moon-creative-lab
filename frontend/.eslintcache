[{"/Users/ravneetkaur/Projects/moon-creative-lab/frontend/src/index.js":"1","/Users/ravneetkaur/Projects/moon-creative-lab/frontend/src/App.js":"2","/Users/ravneetkaur/Projects/moon-creative-lab/frontend/src/reportWebVitals.js":"3","/Users/ravneetkaur/Projects/moon-creative-lab/frontend/src/components/Books/index.jsx":"4","/Users/ravneetkaur/Projects/moon-creative-lab/frontend/src/components/Books/Books.jsx":"5","/Users/ravneetkaur/Projects/moon-creative-lab/frontend/src/components/core/HeaderNav.jsx":"6","/Users/ravneetkaur/Projects/moon-creative-lab/frontend/src/components/Books/Reviews.jsx":"7","/Users/ravneetkaur/Projects/moon-creative-lab/frontend/src/components/Books/AddReview.jsx":"8","/Users/ravneetkaur/Projects/moon-creative-lab/frontend/src/components/Books/Comments.jsx":"9","/Users/ravneetkaur/Projects/moon-creative-lab/frontend/src/components/core/Footer.jsx":"10"},{"size":500,"mtime":1607649920308,"results":"11","hashOfConfig":"12"},{"size":436,"mtime":1607920730091,"results":"13","hashOfConfig":"12"},{"size":362,"mtime":1607649920311,"results":"14","hashOfConfig":"12"},{"size":52,"mtime":1607651744351,"results":"15","hashOfConfig":"12"},{"size":3493,"mtime":1607917968575,"results":"16","hashOfConfig":"12"},{"size":314,"mtime":1607921525514,"results":"17","hashOfConfig":"12"},{"size":658,"mtime":1607921225456,"results":"18","hashOfConfig":"12"},{"size":2320,"mtime":1607921500250,"results":"19","hashOfConfig":"12"},{"size":1227,"mtime":1607921169111,"results":"20","hashOfConfig":"12"},{"size":217,"mtime":1607920456768,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"1wlzt61",{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33","usedDeprecatedRules":"24"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/ravneetkaur/Projects/moon-creative-lab/frontend/src/index.js",[],["44","45"],"/Users/ravneetkaur/Projects/moon-creative-lab/frontend/src/App.js",[],"/Users/ravneetkaur/Projects/moon-creative-lab/frontend/src/reportWebVitals.js",[],"/Users/ravneetkaur/Projects/moon-creative-lab/frontend/src/components/Books/index.jsx",[],"/Users/ravneetkaur/Projects/moon-creative-lab/frontend/src/components/Books/Books.jsx",["46","47"],"import React, {useEffect, useState} from 'react';\nimport { Container, Item, Header, Button } from 'semantic-ui-react';\nimport Reviews from './Reviews';\nimport AddReview from './AddReview';\nimport Comments from './Comments';\nimport './Books.css';\n\nconst Books = () => {\n\n  const [booksList, setBooksList] = useState([]);\n  const [showAddReviewModal, setShowAddReviewModal] = useState(false);\n  const [selectedBook, setSelectedBook] = useState('');\n  const [showCommentModal, setShowCommentModal] = useState(false);\n  const [selBookReviews, setSelectedBookReviews] = useState([]);\n\n  useEffect(() => {\n    try {\n      // function to get books list\n      getBooks();\n    }catch(error){\n      //console error if api call fails\n      console.log(error);\n    }\n  },[]);\n\n  const getBooks = async() => {\n    try {\n      const response = await fetch('/books');\n      const result = await response.json();\n      if(result.status === 'success') {\n        setBooksList(result.data)\n      } else {\n        setBooksList([])\n      }\n\n    } catch(error){\n\n    }\n  }\n\n  const addReview = (bookId) => {\n    setSelectedBook(bookId)\n    setShowAddReviewModal(true);\n  }\n\n  const closeReviewModal = () =>{\n    setShowAddReviewModal(false);\n  }\n\n  const showComments = (reviews) => {\n    setShowCommentModal(true)\n    setSelectedBookReviews(reviews)\n  }\n\n  const closeCommentModal = () => {\n    setShowCommentModal(false);\n  }\n\n  return (\n    <>\n      <Container className=\"book-container\">\n        <Header as='h2' dividing>Books</Header>\n        <Item.Group divided>\n        {booksList.map((book,index) => {\n          return (\n            <Item key={`book_${index}`}>\n              <Item.Image size='tiny' src={book.cover} />\n              <Item.Content>\n                <Item.Header as='a'>{book.name}</Item.Header>\n                <Item.Meta>\n                  <span>{book.author}</span>\n                </Item.Meta>\n                <Item.Description>\n                  {book.description}\n                </Item.Description>\n                <Item.Extra>\n                  <Reviews totalReviews={book.reviews?book.reviews:[]} />\n                  |\n                  {book.reviews && book.reviews.length > 0?\n                    <a\n                      href={null}\n                      className=\"review-link\"\n                      onClick={()=>showComments(book.reviews)}\n                    >\n                      Comments({book.reviews?book.reviews.length:0})\n                    </a>\n                    :\n                    <a\n                      href={null}\n                      className=\"review-link\"\n                    >\n                      Comments({book.reviews?book.reviews.length:0})\n                    </a>\n                  }\n                </Item.Extra>\n                <Button\n                  size=\"tiny\"\n                  basic\n                  color='blue'\n                  floated=\"right\"\n                  onClick={()=>addReview(book.id)}>\n                  Add Review\n                </Button>\n              </Item.Content>\n            </Item>\n          )\n        })\n      }\n      </Item.Group>\n      <AddReview\n        showAddReviewModal={showAddReviewModal}\n        closeReviewModal={closeReviewModal}\n        selectedBook={selectedBook}\n        getBooks={getBooks}\n      />\n      <Comments\n        showCommentModal={showCommentModal}\n        reviews={selBookReviews}\n        closeCommentModal={closeCommentModal}\n      />\n    </Container>\n  </>\n)}\n\nexport default Books;\n","/Users/ravneetkaur/Projects/moon-creative-lab/frontend/src/components/core/HeaderNav.jsx",[],"/Users/ravneetkaur/Projects/moon-creative-lab/frontend/src/components/Books/Reviews.jsx",[],"/Users/ravneetkaur/Projects/moon-creative-lab/frontend/src/components/Books/AddReview.jsx",[],"/Users/ravneetkaur/Projects/moon-creative-lab/frontend/src/components/Books/Comments.jsx",[],"/Users/ravneetkaur/Projects/moon-creative-lab/frontend/src/components/core/Footer.jsx",[],{"ruleId":"48","replacedBy":"49"},{"ruleId":"50","replacedBy":"51"},{"ruleId":"52","severity":1,"message":"53","line":80,"column":21,"nodeType":"54","endLine":84,"endColumn":22},{"ruleId":"52","severity":1,"message":"53","line":88,"column":21,"nodeType":"54","endLine":91,"endColumn":22},"no-native-reassign",["55"],"no-negated-in-lhs",["56"],"jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","no-global-assign","no-unsafe-negation"]